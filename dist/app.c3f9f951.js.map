{"version":3,"sources":["js/keys.js","js/app.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["key","get","genresUrl","popularUrl","upcomingUrl","nowPlayingUrl","imageUrl","body","document","querySelector","moviesList","mainNav","querySelectorAll","sectionTitle","loadMoreButton","favePanelButton","movieHighlight","faveMoviesPanel","posterBig","movieTitle","movieOverview","genreTags","prevMovie","nextMovie","prevMovieTitle","nextMovieTitle","modalClose","saveFaveButton","removeFaveButton","removeAllbutton","faveMoviesList","faveSection","closeFave","noFaveInfo","loadMoreSection","loadMoreSectionButton","sortDescButton","sortAscButton","clearSortingButton","popularityNo","genresArr","popularArr","upcomingArr","nowPlayingArr","tempPopularArr","tempUpcomingArr","tempNowPlayingArr","tempSorted","curentView","movieIndex","fetchDataOnStart","genresResponse","fetch","json","push","genres","err","console","log","popularRes","then","res","upcomingRes","nowPlayingRes","Promise","all","data","popular","upcoming","nowPlaying","forEach","dataGroup","results","map","el","genre_ids","el2","genere","filter","id","name","favorite","createList","fetchMoreData","url","pagesCount","totalFull","getData","respons","total_pages","alert","movie","movieCard","createElement","appendChild","addEventListener","selectedMovieFn","movieName","textContent","title","movieImg","setAttributes","attrs","setAttribute","poster_path","delay","Math","floor","random","setTimeout","addActive","classList","add","hidden","removeDOMFn","location","childList","lastElementChild","removeChild","reCreateList","sortFn","direction","sort","a","b","resetNav","element","li","aLink","remove","target","elName","dataset","navlink","section","resetSorting","event","currentTarget","findIndex","original_title","openModal","scrollY","window","style","position","top","innerHTML","release_date","split","overview","join","vote_average","isFave","length","closeModal","scrollTo","parseInt","saveFaveMovie","storedData","storedFave","Array","unshift","localStorage","setItem","JSON","stringify","myFave","getItem","parse","removeAllFaveMovie","removeItem","constructFaveList","removeFaveMovie","closest","regex","titleClean","replace","toString","trim","indexOf","splice","removeMovie","some","popularMoviesData","upcomingMoviesData","nowPlayingMoviesData","activeSection","toggle","stopPropagation","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","parents","k","d","dep","isArray","concat","Function","deps","cached","cache","cb"],"mappings":"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","file":"app.c3f9f951.js","sourceRoot":"..","sourcesContent":["const key = '4f27d39e191ab6285b0ab1209ca4435a'\n\nexport {key}","import {key} from './keys.js'\n\n\nconst get = 'https://api.themoviedb.org/3'\nconst genresUrl = `${get}/genre/movie/list?api_key=${key}`\nconst popularUrl = `${get}/movie/popular?api_key=${key}`\nconst upcomingUrl = `${get}/movie/upcoming?api_key=${key}`\nconst nowPlayingUrl = `${get}/movie/now_playing?api_key=${key}`\nconst imageUrl = 'https://image.tmdb.org/t/p/w780'\n\nconst body = document.querySelector('body')\nconst moviesList = document.querySelector('.moviesList')\nconst mainNav = document.querySelectorAll('.mainNav ul li')\nconst sectionTitle = document.querySelector('.sectionTitle h4')\nconst loadMoreButton = document.querySelector('.loadMore')\nconst favePanelButton = document.querySelector('.favePanel')\nconst movieHighlight = document.querySelector('.movieHighlight')\nconst faveMoviesPanel = document.querySelector('.faveMoviesPanel')\nconst posterBig = document.querySelector('.poster img')\nconst movieTitle = document.querySelector('.movieInfo h1')\nconst movieOverview = document.querySelector('.overview')\nconst genreTags = document.querySelector('.tags')\nconst prevMovie = document.querySelector('.prevMovie')\nconst nextMovie = document.querySelector('.nextMovie')\nconst prevMovieTitle = document.querySelector('.prevMovie h5')\nconst nextMovieTitle = document.querySelector('.nextMovie h5')\nconst modalClose = document.querySelector('.card .close')\nconst saveFaveButton = document.querySelector('.saveFave')\nconst removeFaveButton = document.querySelector('.removeFave')\nconst removeAllbutton = document.querySelector('.removeAll')\nconst faveMoviesList = document.querySelector('.faveMoviesList')\nconst faveSection = document.querySelector('.faveSection')\nconst closeFave = document.querySelector('.closeFave')\nconst noFaveInfo = document.querySelector('.noFave')\nconst loadMoreSection = document.querySelector('.loadMoreSection')\nconst loadMoreSectionButton = document.querySelector('.loadMoreSection button')\nconst sortDescButton = document.querySelector('.sortDesc')\nconst sortAscButton = document.querySelector('.sortAsc')\nconst clearSortingButton = document.querySelector('.clearSorting')\nconst popularityNo = document.querySelector('.popularity span')\n\n\nlet genresArr = []\nlet popularArr = []\nlet upcomingArr = []\nlet nowPlayingArr = []\n\nlet tempPopularArr = []\nlet tempUpcomingArr = []\nlet tempNowPlayingArr = []\n\nlet tempSorted = []\nlet curentView = popularArr;\nlet movieIndex\n\n\n//////////////////////////\n// Initial data fetch // Just one time at the begining!\n//////////////////////////\nasync function fetchDataOnStart() {\n  //\n  // Fetch Genres\n  //\n  try {\n    let genresResponse = await fetch(genresUrl)\n    let json = await genresResponse.json();\n    \n    genresArr.push(...json.genres)\n  } catch (err) {\n    console.log(err)\n  }\n\n  //\n  // Fetch all other Data\n  //\n  let popularRes = fetch(popularUrl).then(res => res.json())\n  let upcomingRes = fetch(upcomingUrl).then(res => res.json())\n  let nowPlayingRes = fetch(nowPlayingUrl).then(res => res.json())\n\n  await Promise.all([popularRes, upcomingRes, nowPlayingRes])\n    .then( data => {\n    let [popular, upcoming, nowPlaying] = data\n\n    //\n    // Add genres arrey as strings\n    //\n    data.forEach( dataGroup => {\n      dataGroup.results.map( el => {\n        let genres = []\n  \n        el.genre_ids.map(el2 => {\n          let genere = genresArr.filter( id => el2 === id.id)\n          genres.push(genere[0].name)\n        })\n  \n        el.genres = genres;\n        el.favorite = false;\n      })\n    })\n\n    //\n    // Push the data to an Array\n    //\n    popularArr.push(...popular.results)\n    upcomingArr.push(...upcoming.results)\n    nowPlayingArr.push(...nowPlaying.results)\n\n    //////////////////////////\n    // REMOVE - JUST FOR TEST\n    //////////////////////////\n    createList(popularArr)\n  })\n}\nfetchDataOnStart()\n\n//////////////////////////\n// Fetch Next Page\n//////////////////////////\nfunction fetchMoreData(url) {\n  let pagesCount = 2;\n  let totalFull = false\n\n  return async function getData() {\n    if(!totalFull) {\n      let respons = await fetch(`${url}&page=${pagesCount}`)\n      let json = await respons.json();\n      (pagesCount < json.total_pages) ? pagesCount += 1 : totalFull = true;\n\n      //\n      // Add genres arrey as strings\n      //\n      json.results.map( el => {\n        let genres = []\n  \n        el.genre_ids.map(el2 => {\n          let genere = genresArr.filter( id => el2 === id.id)\n          genres.push(genere[0].name)\n        })\n\n        el.genres = genres;\n        el.favorite = false;\n      })\n      \n      //\n      // Push to an Array based on Url\n      //\n      tempPopularArr = []\n      tempUpcomingArr = []\n      tempNowPlayingArr =[]\n\n      switch (url) {\n        case popularUrl:\n          tempPopularArr.push(...json.results)\n          createList(tempPopularArr)\n          popularArr.push(...json.results)\n          curentView = popularArr;\n          break;\n        case upcomingUrl:\n          tempUpcomingArr.push(...json.results)\n          createList(tempUpcomingArr)\n          upcomingArr.push(...json.results)\n          curentView = upcomingArr;\n          break;\n        case nowPlayingUrl:\n          tempNowPlayingArr.push(...json.results)\n          createList(tempNowPlayingArr)\n          nowPlayingArr.push(...json.results)\n          curentView = nowPlayingArr;\n          break;\n        default:\n          alert('No URL')\n      }\n    }\n  }\n}\n\n//////////////////////////\n// Buil DOM List elements\n//////////////////////////\nfunction createList(data) {\n  data.forEach(movie => {\n   let movieCard = document.createElement('li')\n   moviesList.appendChild(movieCard)\n\n   movieCard.addEventListener('click', selectedMovieFn)\n\n   let movieName = document.createElement('h5')\n   movieCard.appendChild(movieName)\n   movieName.textContent = movie.title\n\n   let movieImg = document.createElement('img')\n   movieCard.appendChild(movieImg)\n\n    function setAttributes(el, attrs) {\n      for(var key in attrs) {\n        el.setAttribute(key, attrs[key]);\n      }\n    }\n    \n    if(`${imageUrl}${movie.poster_path}` === 'https://image.tmdb.org/t/p/w780null') {\n      setAttributes(movieImg, {\"src\": 'http://samodrole.com/projects/amos/images/noImage.png' , \"height\": \"140px\", \"width\": \"90px\", \"alt\":'' });\n    } else {\n      setAttributes(movieImg, {\"src\": `${imageUrl}${movie.poster_path}`, \"height\": \"140px\", \"width\": \"90px\", \"alt\": `${movie.title}` });\n    }\n    \n    let delay = Math.floor(Math.random() * (120 - 60) + 60)\n    setTimeout(addActive, delay)\n    function addActive() {\n      movieCard.classList.add('active')\n    }\n  })\n\n  loadMoreSection.hidden = false;\n  loadMoreSectionButton.hidden = false\n}\n\n////////////////////////////////////////\n// Remove elements from the DOM\n////////////////////////////////////////\nfunction removeDOMFn(location) {\n  let childList = location.lastElementChild\n  while(childList) {\n    location.removeChild(childList)\n    childList = location.lastElementChild\n  }\n}\n\n//////////////////////////\n// REBuil DOM List elements based on filter, search, or sort\n//////////////////////////\nfunction reCreateList(data) {\n  removeDOMFn(moviesList);\n  data.forEach(movie => {\n   let movieCard = document.createElement('li')\n   moviesList.appendChild(movieCard)\n\n   movieCard.addEventListener('click', selectedMovieFn)\n\n   let movieName = document.createElement('h5')\n   movieCard.appendChild(movieName)\n   movieName.textContent = movie.title\n\n   let movieImg = document.createElement('img')\n   movieCard.appendChild(movieImg)\n\n    function setAttributes(el, attrs) {\n      for(var key in attrs) {\n        el.setAttribute(key, attrs[key]);\n      }\n    }\n    if(`${imageUrl}${movie.poster_path}` === 'https://image.tmdb.org/t/p/w780null') {\n      setAttributes(movieImg, {\"src\":'http://samodrole.com/projects/amos/images/noImage.png' , \"height\": \"140px\", \"width\": \"90px\", \"alt\":'' });\n    } else {\n      setAttributes(movieImg, {\"src\": `${imageUrl}${movie.poster_path}`, \"height\": \"140px\", \"width\": \"90px\", \"alt\": `${movie.title}` });\n    }\n\n    let delay = Math.floor(Math.random() * (120 - 60) + 60)\n    setTimeout(addActive, delay)\n    function addActive() {\n      movieCard.classList.add('active')\n    }\n  })\n  \n  loadMoreSection.hidden = false;\n  loadMoreSectionButton.hidden = false\n}\n\n//////////////////////////\n// Sort elements\n//////////////////////////\nfunction sortFn(direction, key, curentView) {\n  tempSorted = 0\n  tempSorted = [...curentView];\n  \n  if(direction === 'desc') {\n    tempSorted = tempSorted.sort((a,b) => a[key] < b[key] ? 1 : -1)\n    reCreateList(tempSorted)\n  } else {\n    tempSorted = tempSorted.sort((a,b) => a[key] < b[key] ? -1 : 1)\n    reCreateList(tempSorted)\n  }\n}\n\n//////////////////////////\n// Reste nav Selection\n//////////////////////////\nfunction resetNav(element) {\n  mainNav.forEach(li => {\n    let aLink = li.querySelector('a')\n    aLink.classList.remove('active')\n  })\n  element.target.classList.add('active')\n}\n\n//////////////////////////\n// Switch between sections\n//////////////////////////\nmainNav.forEach(li => {\n  li.addEventListener('click', (element) => {\n    let elName = element.target.dataset.navlink;\n    switch (elName) {\n      case 'popular':\n        removeDOMFn(moviesList)\n        createList(popularArr)\n        sectionTitle.textContent = 'Popular movies';\n        loadMoreButton.dataset.section = 'popular';\n        curentView = popularArr;\n        resetNav(element);\n        resetSorting();   \n        break;\n      case 'upcoming':\n        removeDOMFn(moviesList)\n        createList(upcomingArr)\n        sectionTitle.textContent = 'Upcoming movies';\n        loadMoreButton.dataset.section = 'upcoming';\n        curentView = upcomingArr;\n        resetNav(element);\n        resetSorting(); \n        break;\n      case 'nowplaying':\n        removeDOMFn(moviesList)\n        createList(nowPlayingArr)\n        sectionTitle.textContent = 'Now playing movies';\n        loadMoreButton.dataset.section = 'nowplaying';\n        curentView = nowPlayingArr;\n        resetNav(element);\n        resetSorting();  \n        break;\n      default:\n    }\n  })\n})\n\n//////////////////////////\n// Selected Card info\n//////////////////////////\nfunction selectedMovieFn(event) {\n  let movieTitle = event.currentTarget.querySelector('h5').textContent\n  movieIndex = curentView.findIndex(movie => {\n    return movie.original_title === movieTitle\n  })\n  openModal()\n}\n\n//////////////////////////\n// Movie Modal function visible\n//////////////////////////\nfunction openModal() {\n  const scrollY = window.scrollY;\n  body.style.position = 'fixed';\n  body.style.top = `-${scrollY}px`;\n\n  if(`${imageUrl}${curentView[movieIndex].poster_path}` === 'https://image.tmdb.org/t/p/w780null') {\n      posterBig.setAttribute('src', 'http://samodrole.com/projects/amos/images/noImage.png');\n    } else {\n      posterBig.setAttribute('src', `${imageUrl}${curentView[movieIndex].poster_path}`)\n      posterBig.setAttribute('alt', `${curentView[movieIndex].title}`)\n    }\n  \n  movieTitle.innerHTML = `${curentView[movieIndex].title} <span>(${curentView[movieIndex].release_date.split('-')[0]})</span>`\n  movieOverview.textContent = curentView[movieIndex].overview\n  genreTags.textContent = curentView[movieIndex].genres.join(' / ')\n  popularityNo.textContent = curentView[movieIndex].vote_average\n  isFave()\n  // console.log(movieIndex)\n  // console.log(curentView.length - 1)\n\n  if(movieIndex > 0 && movieIndex < curentView.length) {\n    prevMovieTitle.textContent = curentView[movieIndex - 1].title\n    nextMovieTitle.textContent = curentView[movieIndex + 1].title\n    prevMovie.hidden = false\n    nextMovie.hidden = false\n  } else if (movieIndex === 0) {\n    nextMovieTitle.textContent = curentView[movieIndex + 1].title\n    prevMovie.hidden = true\n  } else if (movieIndex === curentView.length) {\n    prevMovieTitle.textContent = curentView[movieIndex - 1].title\n    nextMovie.hidden = true\n  } else {\n    prevMovie.hidden = true\n    nextMovie.hidden = true\n  }\n  movieHighlight.classList.add('active')\n}\n\n//////////////////////////\n// Movie Modal close\n//////////////////////////\nfunction closeModal() {\n  const scrollY = body.style.top;\n  body.style.position = '';\n  body.style.top = '';\n  window.scrollTo(0, parseInt(scrollY || '0') * -1);\n\n  movieHighlight.classList.remove('active')\n  removeDOMFn(genreTags)\n  posterBig.setAttribute('src', '')\n  posterBig.setAttribute('alt', '')\n  movieTitle.innerHTML = ''\n  movieOverview.textContent = ''\n  movieIndex = ''\n}\n\n//////////////////////////\n// Save Favorite movie\n//////////////////////////\nfunction saveFaveMovie() {\n  let storedData = storedFave()\n  if(storedData === null) {\n    storedData = new Array();\n  }\n  storedData.unshift(curentView[movieIndex])\n  localStorage.setItem(`faveMovies`, JSON.stringify(storedData))\n  isFave()\n}\n\n//////////////////////////\n// Get Favorite movies\n//////////////////////////\nfunction storedFave() {\n  let myFave = localStorage.getItem('faveMovies')\n  return JSON.parse(myFave)\n}\n\n//////////////////////////\n// Remove All Favorite movie\n//////////////////////////\nfunction removeAllFaveMovie() {\n  localStorage.removeItem('faveMovies')\n  removeDOMFn(faveMoviesList)\n  constructFaveList()\n}\n\n//////////////////////////\n// Remove From Fave\n//////////////////////////\nfunction removeFaveMovie(element) {\n  let storedData = storedFave()\n  let title = element.target.closest('.movieInfoData').querySelector('.title').textContent\n  const regex = /[ (]\\d{4}[)]/gm;\n  let titleClean = title.replace(regex, '').toString()\n  \n  storedData.map(movie => {\n    if(movie.title.trim() === titleClean.trim()) {\n      let movieIndex = storedData.indexOf(movie)\n      storedData.splice(movieIndex, 1)\n\n      if(storedData.length === 0) {\n        localStorage.removeItem('faveMovies')\n        constructFaveList()\n        isFave()\n      } else {\n        localStorage.setItem(`faveMovies`, JSON.stringify(storedData))\n        removeDOMFn(faveMoviesList)\n        constructFaveList()\n        isFave()\n      }\n    }\n  })\n}\n\n//////////////////////////\n// Create a Fave list\n//////////////////////////\nfunction constructFaveList() {\n  let storedData = storedFave()\n  removeDOMFn(faveMoviesList)\n  if(storedData === null || storedData.length === 0){\n    noFaveInfo.hidden = false\n    removeAllbutton.hidden = true\n  } else {\n    noFaveInfo.hidden = true\n    removeAllbutton.hidden = false\n    storedData.forEach(movie => {\n      let li = document.createElement('li')\n      faveMoviesList.appendChild(li)\n      li.innerHTML = `<div class='movieInfoData'><img src='${imageUrl}${movie.poster_path}'> <h5 class='title'>${movie.title} <span>(${movie.release_date.split('-')[0]})</span></h5><button><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zm2-8h6v8H5v-8zm5-6H6L5 5H2v2h12V5h-3z\"/></svg></button></div>`\n      const removeMovie = li.querySelector('button')\n      removeMovie.addEventListener('click', removeFaveMovie)\n    })\n  }\n}\n\n\n//////////////////////////\n// Check if movie is Fave\n//////////////////////////\nfunction isFave() {\n  let storedData = storedFave()\n  saveFaveButton.hidden = false\n  removeFaveButton.hidden = true;\n\n  if(storedData) {\n    storedData.some(movie => {\n      if(movie.title === curentView[movieIndex].title) {\n        removeFaveButton.hidden = false;\n        saveFaveButton.hidden = true\n      } \n    })\n  } \n}\n\n//////////////////////////\n// EventListeners && Functions\n//////////////////////////\nlet popularMoviesData = fetchMoreData(popularUrl);\nlet upcomingMoviesData = fetchMoreData(upcomingUrl);\nlet nowPlayingMoviesData = fetchMoreData(nowPlayingUrl);\n\nloadMoreButton.addEventListener('click', () => {\n  let activeSection = loadMoreButton.dataset.section\n  switch (activeSection) {\n    case 'popular':\n      popularMoviesData();\n      break;\n    case 'upcoming':\n      upcomingMoviesData();\n      break;\n    case 'nowplaying':\n      nowPlayingMoviesData();\n      break;\n    default:\n  }\n})\n\nsortDescButton.addEventListener('click', () => {\n  sortFn('desc', 'original_title', curentView)\n  sortAscButton.classList.remove('active')\n  sortDescButton.classList.add('active')\n  clearSortingButton.classList.remove('active')\n})\n\nsortAscButton.addEventListener('click', () => {\n  sortFn('asc', 'original_title', curentView)\n  sortAscButton.classList.add('active')\n  sortDescButton.classList.remove('active')\n  clearSortingButton.classList.remove('active')\n})\n\nfunction resetSorting() {\n  reCreateList(curentView)\n  sortAscButton.classList.remove('active')\n  sortDescButton.classList.remove('active')\n  clearSortingButton.classList.add('active')\n}\n\nclearSortingButton.addEventListener('click', resetSorting)\n\nfavePanelButton.addEventListener('click', () => {\n  faveSection.classList.toggle('active');\n  const scrollY = window.scrollY;\n  body.style.position = 'fixed';\n  body.style.top = `-${scrollY}px`;\n  storedFave();\n  constructFaveList();\n})\ncloseFave.addEventListener('click', () => {\n  faveSection.classList.toggle('active')\n  const scrollY = body.style.top;\n  body.style.position = '';\n  body.style.top = '';\n  window.scrollTo(0, parseInt(scrollY || '0') * -1);\n})\nmodalClose.addEventListener('click', closeModal)\nsaveFaveButton.addEventListener('click', saveFaveMovie)\nremoveAllbutton.addEventListener('click', removeAllFaveMovie)\nremoveFaveButton.addEventListener('click', removeFaveMovie)\nnextMovie.addEventListener('click', () => {\n  removeDOMFn(genreTags)\n  movieIndex += 1\n  openModal()\n  event.stopPropagation();\n})\n\nprevMovie.addEventListener('click', () => {\n  removeDOMFn(genreTags)\n  movieIndex -= 1\n  openModal()\n  event.stopPropagation();\n})","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}